文章支援アプリを作成している。
以下の要点を十分に理解して、以下のアプリのプログラムの作成をお願いします。
ーーーーーーー
①今回のアプリは、小説のある場面の文章を生成するものである。
②アプリの構成、構造、表現は、添付のプログラムを忠実に継承して作成してください。
ただし、以下で述べる点を変更してください。
③APIキーの設定は、添付のプログラムと同様とする。
④タブ１：設定＆生成に関して、「小説の場面設定」を３つテキストで入力できるようにする。
一つは必須、残り２つは任意とする。
⑤タブ１：設定＆生成に関して、「シーン・クラフト（描写・演出）」では、
描写１：「説明的－描写的」、描写２：「第３者的ー当事者的」、視覚以外の臨場感：「少ない－多い」、
思考の開示：「開示しない－開示する」、会話の緊張感：「弱い－強い」、場面状況：「現実的－空想的」
の５つをバー入力（0.0から1.0の数値を入力）できるようにする。
⑤タブ１：設定＆生成に関して、「キャラクター・ダイナミクス」では、
登場人物人数：「0人－5人」、登場人物の精神性：「弱い－強い」、登場人物の信念：「病的－健康」、
過去の因縁：「トラウマなし―トラウマあり」、ボイス（語り口）の癖：「弱い－強い」
の５つをバー入力（0.0から1.0の数値を入力）できるようにする。
⑥タブ１：設定＆生成に関して、出文字数：「200字－1000字」をバー入力できるようにする。
⑦タブ１：設定＆生成に関して、「シーン・クラフト」と「キャラクター・ダイナミクス」について、
各条件を踏まえて、候補の要素をLLMにそれぞれ15個生成させ、タブ２：最適化（BBO)に表示する。
⑧候補の要素の生成に関して、プロンプトは、
「以下の執筆テーマ設定に基づき、
文章を構成するための「文章ブロック（文または段落）」を 「小説の場面設定」と「キャラクター・ダイナミクス」
について各**15個** 生成してください。
生成する文章ブロックは、設定を考慮してバランスよく分散させてください。
また、各文章ブロックは異なる観点や情報を提供するようにし、重複を避けてください。
【小説の場面設定】
{full_topic_context}

【シーン・クラフト（描写・演出）のパラメータ設定】
描写１、描写２，臨場感、思考の開示、緊張感、場面状況

【キャラクター・ダイナミクスのパラメータ設定】
登場人物人数、登場人物の精神性、登場人物の信念、
過去の因縁、ボイス（語り口）の癖

出力は必ず以下のJSON形式のリストのみを返してください。Markdown不要。
【シーン・クラフト（描写・演出）のパラメータ設定】
「小説の場面設定」の関連度、描写１、描写２，臨場感、思考の開示、緊張感、場面状況のスコア

【キャラクター・ダイナミクスのパラメータ設定】
「小説の場面設定」の関連度、登場人物人数、登場人物の精神性、登場人物の信念、
過去の因縁、ボイス（語り口）の癖のスコア」

⑨タブ２：最適化（BBO)では、ブラックボックス最適化を行う。
⑩「シーン・クラフト」と「キャラクター・ダイナミクス」の各１５個の生成文章について、
ユーザーが「採用しない～採用する」の5段階をラジオボタンで入力できるようにする。
⑪ユーザ入力を説明変数にしてリッジ回帰を行う。
⑫量子アニーリングのコスト関数は、【シーン・クラフト（描写・演出）のパラメータ設定】の
「小説の場面設定」の関連度、描写１、描写２，臨場感、思考の開示、緊張感、場面状況のスコア
および、【キャラクター・ダイナミクスのパラメータ設定】の
「小説の場面設定」の関連度、登場人物人数、登場人物の精神性、登場人物の信念、
過去の因縁、ボイス（語り口）の癖のスコア
および、文字数とユーザが入力したリッジ回帰とする。
⑬ユーザの入力がない状態「パラメータのみで最適化」でも量子アニーリングの最適化ができるようにする。
⑭量子アニーリングで最適化された文章は、添付のプログラムと同様に、ユーザーが分かるように表示する。
⑮タブ３および、タブ４は、添付のプログラムと同じにしてください。
⑯アプリのプログラムの構成は、添付のプログラムと同じにしてください。
⑰不明な点がありましたら、問い合わせてください。
⑱アプリ名は、「量子アニーリング駆動型 小説執筆支援アプリ Ver6」としてください。
⑲今回の変更点以外は、単純化せず、添付のプログラムを忠実に継承してください。

